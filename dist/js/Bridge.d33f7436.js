(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Bridge"],{"355f":function(e){e.exports=JSON.parse("{}")},3961:function(e,t,n){"use strict";n.r(t);n("b0c0");var a=n("7a23"),c={class:"Bridge"},r=Object(a["createTextVNode"])("Refresh"),o=Object(a["createElementVNode"])("br",null,null,-1),i={class:"flex justify-content-space-around"},l={key:0},u={class:"text-bold"},s={key:1},b={class:"text-bold"},p=Object(a["createElementVNode"])("div",{class:"text-bold"}," Bridging Fee ",-1),d=Object(a["createElementVNode"])("br",null,null,-1),m={class:"flex justify-content-space-around"},y={key:0},h={class:"flex"},f={key:0,class:"text-red"},j={key:0},O={class:"flex"},k={key:0,class:"text-red"};function T(e,t,n,T,B,g){var v=Object(a["resolveComponent"])("el-button"),w=Object(a["resolveComponent"])("Link"),x=Object(a["resolveComponent"])("el-icon"),A=Object(a["resolveComponent"])("el-link"),C=Object(a["resolveComponent"])("el-card"),N=Object(a["resolveComponent"])("el-input");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",c,[Object(a["createElementVNode"])("h1",null,Object(a["toDisplayString"])(T.tokenSymbol)+" Bridge ",1),Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(v,{type:"primary",plain:"",onClick:T.refresh},{default:Object(a["withCtx"])((function(){return[r]})),_:1},8,["onClick"])]),o,Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(C,null,{default:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("div",i,[T.chainA.chain?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",l,[Object(a["createElementVNode"])("div",u,[Object(a["createVNode"])(A,{type:"primary",target:"_blank",href:T.chainAContractUrl},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(T.chainA.chain.name)+" Bridge Contract  ",1),Object(a["createVNode"])(x,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(w)]})),_:1})]})),_:1},8,["href"])]),Object(a["createElementVNode"])("div",null,Object(a["toDisplayString"])(T.tokenBalanceFormat(T.chainA.contractBalance,T.chainA.token.decimals,5))+" "+Object(a["toDisplayString"])(T.tokenSymbol),1)])):Object(a["createCommentVNode"])("",!0),T.chainB.chain?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",s,[Object(a["createElementVNode"])("div",b,[Object(a["createVNode"])(A,{type:"primary",target:"_blank",href:T.chainBContractUrl},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(T.chainB.chain.name)+" Bridge Contract  ",1),Object(a["createVNode"])(x,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(w)]})),_:1})]})),_:1},8,["href"])]),Object(a["createElementVNode"])("div",null,Object(a["toDisplayString"])(T.tokenBalanceFormat(T.chainB.contractBalance,T.chainB.token.decimals,5))+" "+Object(a["toDisplayString"])(T.tokenSymbol),1)])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",null,[p,Object(a["createElementVNode"])("div",null,Object(a["toDisplayString"])(T.FEE)+" "+Object(a["toDisplayString"])(T.tokenSymbol)+"/TX ",1)])])]})),_:1})]),d,Object(a["createElementVNode"])("div",m,[Object(a["createVNode"])(C,null,{default:Object(a["withCtx"])((function(){return[T.chainA.chain?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",y,[Object(a["createElementVNode"])("div",null,Object(a["toDisplayString"])(T.chainA.chain.name),1),Object(a["createElementVNode"])("div",h,[Object(a["createVNode"])(N,{style:{width:"200px"},modelValue:T.form.chainAToBTokenAmount,"onUpdate:modelValue":t[0]||(t[0]=function(e){return T.form.chainAToBTokenAmount=e}),placeholder:"0.0",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1');"},null,8,["modelValue"]),Object(a["createVNode"])(v,{type:"primary",disabled:!T.aToBInputValid,onClick:T.bridgeAToB},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(" Bridge to "+Object(a["toDisplayString"])(T.chainB.chain.name),1)]})),_:1},8,["disabled","onClick"])]),T.aToBInputError?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",f,Object(a["toDisplayString"])(T.aToBInputError),1)):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",null," Balance: "+Object(a["toDisplayString"])(T.tokenBalanceFormat(T.chainA.tokenBalance,T.chainA.token.decimals,5))+" "+Object(a["toDisplayString"])(T.tokenSymbol),1)])):Object(a["createCommentVNode"])("",!0)]})),_:1}),Object(a["createVNode"])(C,null,{default:Object(a["withCtx"])((function(){return[T.chainB.chain?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",j,[Object(a["createElementVNode"])("div",null,Object(a["toDisplayString"])(T.chainB.chain.name),1),Object(a["createElementVNode"])("div",O,[Object(a["createVNode"])(N,{style:{width:"200px"},modelValue:T.form.chainBToATokenAmount,"onUpdate:modelValue":t[1]||(t[1]=function(e){return T.form.chainBToATokenAmount=e}),placeholder:"0.0",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1');"},null,8,["modelValue"]),Object(a["createVNode"])(v,{type:"primary",disabled:!T.bToAInputValid,onClick:T.bridgeBToA},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(" Bridge to "+Object(a["toDisplayString"])(T.chainA.chain.name),1)]})),_:1},8,["disabled","onClick"])]),T.bToAInputError?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",k,Object(a["toDisplayString"])(T.bToAInputError),1)):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",null," Balance: "+Object(a["toDisplayString"])(T.tokenBalanceFormat(T.chainB.tokenBalance,T.chainB.token.decimals,5))+" "+Object(a["toDisplayString"])(T.tokenSymbol),1)])):Object(a["createCommentVNode"])("",!0)]})),_:1})])])}var B,g,v,w,x,A=n("3835"),C=n("c7eb"),N=n("1da1"),V=(n("99af"),n("d3b7"),n("3ca3"),n("ddb0"),n("d81d"),n("bf19"),n("901e")),E=n.n(V),I=n("4a84"),D=n("bf37"),S=n("f179"),M=n("ade3"),U=n("ddb4"),F={bnbTestnet:{chainId:97,name:"BNB Smart Chain Testnet",rpcUrl:"https://data-seed-prebsc-1-s1.binance.org:8545",currencySymbol:"tBNB",blockExplorerUrl:"https://testnet.bscscan.com"},sepoliaTestnet:{chainId:11155111,name:"Sepolia test network",rpcUrl:"https://rpc.sepolia.org",currencySymbol:"SepoliaETH",blockExplorerUrl:"https://sepolia.etherscan.io"},ethereumMainnet:{chainId:1,name:"Ethereum Mainnet",rpcUrl:"https://ethereum.publicnode.com",currencySymbol:"ETH",blockExplorerUrl:"https://etherscan.io"}},_=n("afa0"),H=(n("6f84"),n("355f"),n("b7ab")),L=(B={},Object(M["a"])(B,F.bnbTestnet.chainId,"0x6C3Ea55260B8f7F0a62bE332B952F9233ebbDe3D"),Object(M["a"])(B,F.sepoliaTestnet.chainId,"0xFDD35f0eCF704b7828469A19ffd34912D9e10c62"),B),R=(g={},Object(M["a"])(g,F.bnbTestnet.chainId,"0x8F3273Fb89B075b1645095ABaC6ed17B2d4Bc576"),Object(M["a"])(g,F.sepoliaTestnet.chainId,"0xcA11bde05977b3631167028862bE2a173976CA11"),Object(M["a"])(g,F.ethereumMainnet.chainId,"0xeefBa1e63905eF1D7ACbA5a8513c70307C1cE441"),g),J=(v={},Object(M["a"])(v,F.bnbTestnet.chainId,_),Object(M["a"])(v,F.sepoliaTestnet.chainId,_),Object(M["a"])(v,F.ethereumMainnet.chainId,_),v),q=(w={},Object(M["a"])(w,F.bnbTestnet.chainId,F.bnbTestnet.rpcUrl),Object(M["a"])(w,F.sepoliaTestnet.chainId,F.sepoliaTestnet.rpcUrl),Object(M["a"])(w,F.ethereumMainnet.chainId,F.ethereumMainnet.rpcUrl),w),G=(x={},Object(M["a"])(x,F.bnbTestnet.chainId,{usdt:new H["j"](F.bnbTestnet.chainId,"0x9aC9cdD0c5512eFe69e599db74A2148f68e4cAD8",18,"BIRD","Birdswap Token","https://www.birdswap.org/")}),Object(M["a"])(x,F.sepoliaTestnet.chainId,{usdt:new H["j"](F.sepoliaTestnet.chainId,"0x1BfEA78465784C2AB2FD4A93eb7C608D814f9c7f",18,"BIRD","Birdswap Token","https://www.birdswap.org/")}),Object(M["a"])(x,F.ethereumMainnet.chainId,{usdt:{address:"0xdac17f958d2ee523a2206206994597c13d831ec7"}}),x),P=function(e){return J[e]?J[e]:J[F.bnbTestnet.chainId]},$=function(e){return R[e]?R[e]:R[F.bnbTestnet.chainId]},W=function(e){var t=q[e]?q[e]:q[F.bnbTestnet.chainId],n=new D["a"](t);return n},X=function(e,t,n,a){var c=null!==n&&void 0!==n?n:a;return new S["b"](t,e,c)},z=function(e){var t=P(e),n=$(e),a=W(e);return X(t,n,null,a)},K=function(){var e=Object(N["a"])(Object(C["a"])().mark((function e(t,n,a){var c,r,o,i,l,u;return Object(C["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=z(t),r=new I["Interface"](n),o=a.map((function(e){return{target:e.address.toLowerCase(),callData:r.encodeFunctionData(e.name,e.params)}})),e.next=5,c.aggregate(o);case 5:return i=e.sent,l=i.returnData,u=l.map((function(e,t){return r.decodeFunctionResult(a[t].name,e)})),e.abrupt("return",u);case 9:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Q=n("b83a"),Y=function(){var e=Object(N["a"])(Object(C["a"])().mark((function e(t,n,a){var c,r,o;return Object(C["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=[{address:n,name:"balanceOf",params:[a]}],e.prev=1,e.next=4,K(t,Q,c);case 4:return r=e.sent,o=r.map((function(e){return new E.a(e).toJSON()})),e.abrupt("return",o);case 9:return e.prev=9,e.t0=e["catch"](1),console.log("state.bridge.getTokenBalance error",e.t0.message),e.abrupt("return","0");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n,a){return e.apply(this,arguments)}}(),Z=n("5fa6"),ee=n("2a5e"),te=n("f6f2"),ne=n("7149"),ae=n("29f5"),ce=n("2074"),re=n("90b1"),oe=n("2295"),ie="usdt",le="0.01",ue={components:{Link:te["j"]},setup:function(){var e=Object(Z["a"])(),t=e.account,n=e.network,c=Object(a["reactive"])({chain:null,token:null,tokenBalance:0,contractBalance:0,web3:null}),r=Object(a["reactive"])({chain:null,token:null,tokenBalance:0,contractBalance:0,web3:null}),o=Object(a["reactive"])({chainAToBTokenAmount:"",chainBToATokenAmount:""}),i=Object(a["ref"])(!1),l=Object(a["computed"])((function(){return U["e"]?"BIRD":"USDT"})),u=Object(a["computed"])((function(){return"".concat(c.chain.blockExplorerUrl,"/address/").concat(L[c.chain.chainId])})),s=Object(a["computed"])((function(){return"".concat(r.chain.blockExplorerUrl,"/address/").concat(L[r.chain.chainId])})),b=Object(a["computed"])((function(){return y(c,r,o.chainAToBTokenAmount)})),p=Object(a["computed"])((function(){return h(o.chainAToBTokenAmount,b.value)})),d=Object(a["computed"])((function(){return y(r,c,o.chainBToATokenAmount)})),m=Object(a["computed"])((function(){return h(o.chainBToATokenAmount,d.value)})),y=function(e,t,a){if(!a)return"";if(!n.value)return"";if(n.value.id!==e.chain.chainId)return"Change network to ".concat(e.chain.name);var c=new H["k"](e.token,Object(ne["e"])(a,e.token.decimals)),r=new H["k"](e.token,e.tokenBalance),o=new H["k"](e.token,t.contractBalance);return r.lessThan(c)?"Insufficient ".concat(l.value," balance"):o.lessThan(c)?"Insufficient ".concat(l.value," balance on ").concat(t.chain.name," smart contract"):""},h=function(e,t){return n.value?!!e&&(!(parseFloat(e)<=0)&&!t):""},f=function(){var e=Object(N["a"])(Object(C["a"])().mark((function e(t,n,a){var c,r;return Object(C["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Y(t,n.address,a);case 2:return c=e.sent,r=c[0],e.abrupt("return",{balance:r});case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),j=function(){var e=Object(N["a"])(Object(C["a"])().mark((function e(){var n,a,o,i,l,u;return Object(C["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(c.chain&&r.chain){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Promise.all([f(c.chain.chainId,c.token,t.value.address),f(r.chain.chainId,r.token,t.value.address),f(c.chain.chainId,c.token,L[c.chain.chainId]),f(r.chain.chainId,r.token,L[r.chain.chainId])]);case 4:n=e.sent,a=Object(A["a"])(n,4),o=a[0],i=a[1],l=a[2],u=a[3],c.tokenBalance=o.balance,c.contractBalance=l.balance,r.tokenBalance=i.balance,r.contractBalance=u.balance;case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(N["a"])(Object(C["a"])().mark((function e(){return Object(C["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:T(c,o.chainAToBTokenAmount);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(N["a"])(Object(C["a"])().mark((function e(){return Object(C["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:T(r,o.chainBToATokenAmount);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var n=Object(N["a"])(Object(C["a"])().mark((function n(a,c){var r,o,l,u,s,b,p,d,m;return Object(C["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r="",o=null,i.value=!0,o=re["a"].service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"}),l=e.getWeb3(),u=new l.eth.Contract(Q,a.token.address),s=L[a.chain.chainId],b=Object(ne["e"])(c,a.token.decimals),p=u.methods.transfer(s,b),n.next=11,p.estimateGas({from:t.value.address});case 11:d=n.sent,m=Object(ae["a"])(),p.send({from:t.value.address,gas:d,gasPrice:m}).on("transactionHash",(function(e){r=e})).on("receipt",Object(N["a"])(Object(C["a"])().mark((function e(){return Object(C["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:Object(oe["a"])({customClass:"top-of-every-thing",type:"success",title:"Transaction receipt",dangerouslyUseHTMLString:!0,message:'<a href="'.concat(B(a.chain,r),'" target="_blank">View on Block Explorer: ').concat(r,"</a>"),duration:1e4}),setTimeout(Object(N["a"])(Object(C["a"])().mark((function e(){return Object(C["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:g(),i.value=!1,o.close(),Object(oe["a"])({customClass:"top-of-every-thing",type:"success",title:"Briding done.",dangerouslyUseHTMLString:!0,message:'<a href="'.concat(B(a.chain,r),'" target="_blank">View on Block Explorer: ').concat(r,"</a>"),duration:1e4});case 6:case"end":return e.stop()}}),e)}))),1e4);case 2:case"end":return e.stop()}}),e)})))).on("error",(function(e){console.log("bridge error",e.message),Object(oe["a"])({customClass:"top-of-every-thing",type:"warning",title:"Bridge fail",message:Object(ce["b"])(e.message),duration:15e3}),i.value=!1,o.close()}));case 14:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),B=function(e,t){return"".concat(e.blockExplorerUrl,"/tx/").concat(t)},g=function(){o.chainAToBTokenAmount="",o.chainBToATokenAmount=""},v=function(){var e=Object(N["a"])(Object(C["a"])().mark((function e(){var t;return Object(C["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=null,i.value=!0,t=re["a"].service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"}),e.next=5,j();case 5:t.close();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a["onMounted"])((function(){U["e"]&&(c.token=G[F.bnbTestnet.chainId][ie],c.chain=F.bnbTestnet,r.token=G[F.sepoliaTestnet.chainId][ie],r.chain=F.sepoliaTestnet),j()})),{chainA:c,chainB:r,tokenBalanceFormat:ee["g"],isTestnet:U["e"],form:o,tokenSymbol:l,FEE:le,chainAContractUrl:u,chainBContractUrl:s,aToBInputError:b,aToBInputValid:p,bToAInputError:d,bToAInputValid:m,bridgeAToB:O,bridgeBToA:k,refresh:v}}},se=n("6b0d"),be=n.n(se);const pe=be()(ue,[["render",T]]);t["default"]=pe},"6f84":function(e){e.exports=JSON.parse("{}")},afa0:function(e){e.exports=JSON.parse('[{"inputs":[{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Multicall2.Call[]","name":"calls","type":"tuple[]"}],"name":"aggregate","outputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"},{"internalType":"bytes[]","name":"returnData","type":"bytes[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Multicall2.Call[]","name":"calls","type":"tuple[]"}],"name":"blockAndAggregate","outputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"},{"internalType":"bytes32","name":"blockHash","type":"bytes32"},{"components":[{"internalType":"bool","name":"success","type":"bool"},{"internalType":"bytes","name":"returnData","type":"bytes"}],"internalType":"struct Multicall2.Result[]","name":"returnData","type":"tuple[]"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"}],"name":"getBlockHash","outputs":[{"internalType":"bytes32","name":"blockHash","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getBlockNumber","outputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentBlockCoinbase","outputs":[{"internalType":"address","name":"coinbase","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentBlockDifficulty","outputs":[{"internalType":"uint256","name":"difficulty","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentBlockGasLimit","outputs":[{"internalType":"uint256","name":"gaslimit","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentBlockTimestamp","outputs":[{"internalType":"uint256","name":"timestamp","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"addr","type":"address"}],"name":"getEthBalance","outputs":[{"internalType":"uint256","name":"balance","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getLastBlockHash","outputs":[{"internalType":"bytes32","name":"blockHash","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bool","name":"requireSuccess","type":"bool"},{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Multicall2.Call[]","name":"calls","type":"tuple[]"}],"name":"tryAggregate","outputs":[{"components":[{"internalType":"bool","name":"success","type":"bool"},{"internalType":"bytes","name":"returnData","type":"bytes"}],"internalType":"struct Multicall2.Result[]","name":"returnData","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bool","name":"requireSuccess","type":"bool"},{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Multicall2.Call[]","name":"calls","type":"tuple[]"}],"name":"tryBlockAndAggregate","outputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"},{"internalType":"bytes32","name":"blockHash","type":"bytes32"},{"components":[{"internalType":"bool","name":"success","type":"bool"},{"internalType":"bytes","name":"returnData","type":"bytes"}],"internalType":"struct Multicall2.Result[]","name":"returnData","type":"tuple[]"}],"stateMutability":"nonpayable","type":"function"}]')}}]);
//# sourceMappingURL=Bridge.d33f7436.js.map